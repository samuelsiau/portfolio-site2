!function(P,W){"object"==typeof exports&&"undefined"!=typeof module?module.exports=W():"function"==typeof define&&define.amd?define(W):(P="undefined"!=typeof globalThis?globalThis:P||self).LocomotiveScroll=W()}(this,function(){"use strict";function P(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function W(n,i){for(var e=0;e<i.length;e++){var t=i[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function tt(n,i,e){return i&&W(n.prototype,i),e&&W(n,e),n}function J(n,i,e){return i in n?Object.defineProperty(n,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[i]=e,n}function U(n,i){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);i&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,t)}return e}function et(n){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?U(Object(e),!0).forEach(function(t){J(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):U(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function N(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&x(n,i)}function Y(n){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(n)}function x(n,i){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(n,i)}function G(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bt(n,i){return!i||"object"!=typeof i&&"function"!=typeof i?G(n):i}function it(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Y(n);if(i){var r=Y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return bt(this,e)}}function _(n,i,e){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,r,l){var h=function(d,v){for(;!Object.prototype.hasOwnProperty.call(d,v)&&null!==(d=Y(d)););return d}(t,r);if(h){var c=Object.getOwnPropertyDescriptor(h,r);return c.get?c.get.call(l):c.value}})(n,i,e||n)}function I(n,i){return function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],l=!0,h=!1,c=void 0;try{for(var d,v=e[Symbol.iterator]();!(l=(d=v.next()).done)&&(r.push(d.value),!t||r.length!==t);l=!0);}catch(f){h=!0,c=f}finally{try{l||null==v.return||v.return()}finally{if(h)throw c}}return r}}(n,i)||z(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(n){return function(i){if(Array.isArray(i))return ot(i)}(n)||function(i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(i))return Array.from(i)}(n)||z(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(n,i){if(n){if("string"==typeof n)return ot(n,i);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ot(n,i):void 0}}function ot(n,i){(null==i||i>n.length)&&(i=n.length);for(var e=0,t=new Array(i);e<i;e++)t[e]=n[e];return t}var q={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},vt=function(){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};P(this,n),Object.assign(this,q,i),this.smartphone=q.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=q.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.context=this.isMobile?this.isTablet?"tablet":"smartphone":"desktop",this.isMobile&&(this.direction=this[this.context].direction),this.directionAxis="horizontal"===this.direction?"x":"y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return tt(n,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var i=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){i.resize(),i.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var i=this.context;this.context=this.isMobile?this.isTablet?"tablet":"smartphone":"desktop",i!=this.context&&("desktop"==i?this.smooth:this[i].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var i=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(e){e.addEventListener("click",i.setScrollTo,!1)})}},{key:"setScrollTo",value:function(i){i.preventDefault(),this.scrollTo(i.currentTarget.getAttribute("data-".concat(this.name,"-href"))||i.currentTarget.getAttribute("href"),{offset:i.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(i){var e=this,t=this.instance.scroll.y,r=t+this.windowHeight,l=this.instance.scroll.x,h=l+this.windowWidth;Object.entries(this.els).forEach(function(c){var d=I(c,2),v=d[0],f=d[1];!f||f.inView&&!i||("horizontal"===e.direction?h>=f.left&&l<f.right&&e.setInView(f,v):r>=f.top&&t<f.bottom&&e.setInView(f,v)),f&&f.inView&&("horizontal"===e.direction?(f.progress=(e.instance.scroll.x-(f.left-e.windowWidth))/(f.right-f.left+e.windowWidth),(h<f.left||l>f.right)&&e.setOutOfView(f,v)):(f.progress=(e.instance.scroll.y-(f.top-e.windowHeight))/(f.bottom-f.top+e.windowHeight),(r<f.top||t>f.bottom)&&e.setOutOfView(f,v)))}),this.hasScrollTicking=!1}},{key:"setInView",value:function(i,e){this.els[e].inView=!0,i.el.classList.add(i.class),this.currentElements[e]=i,i.call&&this.hasCallEventSet&&(this.dispatchCall(i,"enter"),i.repeat||(this.els[e].call=!1))}},{key:"setOutOfView",value:function(i,e){var t=this;this.els[e].inView=!1,Object.keys(this.currentElements).forEach(function(r){r===e&&delete t.currentElements[r]}),i.call&&this.hasCallEventSet&&this.dispatchCall(i,"exit"),i.repeat&&i.el.classList.remove(i.class)}},{key:"dispatchCall",value:function(i,e){this.callWay=e,this.callValue=i.call.split(",").map(function(r){return r.trim()}),this.callObj=i,1==this.callValue.length&&(this.callValue=this.callValue[0]);var t=new Event(this.namespace+"call");this.el.dispatchEvent(t)}},{key:"dispatchScroll",value:function(){var i=new Event(this.namespace+"scroll");this.el.dispatchEvent(i)}},{key:"setEvents",value:function(i,e){this.listeners[i]||(this.listeners[i]=[]);var t=this.listeners[i];t.push(e),1===t.length&&this.el.addEventListener(this.namespace+i,this.checkEvent,!1),"call"===i&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(i,e){if(this.listeners[i]){var t=this.listeners[i],r=t.indexOf(e);r<0||(t.splice(r,1),0===t.index&&this.el.removeEventListener(this.namespace+i,this.checkEvent,!1))}}},{key:"checkEvent",value:function(i){var e=this,t=i.type.replace(this.namespace,""),r=this.listeners[t];r&&0!==r.length&&r.forEach(function(l){switch(t){case"scroll":return l(e.instance);case"call":return l(e.callValue,e.callWay,e.callObj);default:return l()}})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(i,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var i=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(function(e){i.el.removeEventListener(i.namespace+e,i.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(e){e.removeEventListener("click",i.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}]),n}(),at="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function wt(n,i){return n(i={exports:{}},i.exports),i.exports}var dt=wt(function(n,i){n.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var r,l=e.HTMLElement||e.Element,h={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:l.prototype.scroll||v,scrollIntoView:l.prototype.scrollIntoView},c=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,d=(r=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(r)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==f(arguments[0])?B.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):h.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(f(arguments[0])?h.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):B.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},l.prototype.scroll=l.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==f(arguments[0])){var p=arguments[0].left,w=arguments[0].top;B.call(this,this,void 0===p?this.scrollLeft:~~p,void 0===w?this.scrollTop:~~w)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");h.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},l.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==f(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):h.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},l.prototype.scrollIntoView=function(){if(!0!==f(arguments[0])){var p=F(this),w=p.getBoundingClientRect(),D=this.getBoundingClientRect();p!==t.body?(B.call(this,p,p.scrollLeft+D.left-w.left,p.scrollTop+D.top-w.top),"fixed"!==e.getComputedStyle(p).position&&e.scrollBy({left:w.left,top:w.top,behavior:"smooth"})):e.scrollBy({left:D.left,top:D.top,behavior:"smooth"})}else h.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function v(p,w){this.scrollLeft=p,this.scrollTop=w}function f(p){if(null===p||"object"!=typeof p||void 0===p.behavior||"auto"===p.behavior||"instant"===p.behavior)return!0;if("object"==typeof p&&"smooth"===p.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+p.behavior+" is not a valid value for enumeration ScrollBehavior.")}function g(p,w){return"Y"===w?p.clientHeight+d<p.scrollHeight:"X"===w?p.clientWidth+d<p.scrollWidth:void 0}function b(p,w){var D=e.getComputedStyle(p,null)["overflow"+w];return"auto"===D||"scroll"===D}function E(p){var w=g(p,"Y")&&b(p,"Y"),D=g(p,"X")&&b(p,"X");return w||D}function F(p){for(;p!==t.body&&!1===E(p);)p=p.parentNode||p.host;return p}function O(p){var w,D,L,R,H=(c()-p.startTime)/468;R=H=H>1?1:H,w=.5*(1-Math.cos(Math.PI*R)),p.method.call(p.scrollable,D=p.startX+(p.x-p.startX)*w,L=p.startY+(p.y-p.startY)*w),D===p.x&&L===p.y||e.requestAnimationFrame(O.bind(e,p))}function B(p,w,D){var L,R,H,$,K=c();p===t.body?(L=e,R=e.scrollX||e.pageXOffset,H=e.scrollY||e.pageYOffset,$=h.scroll):(L=p,R=p.scrollLeft,H=p.scrollTop,$=v),O({scrollable:L,method:$,startTime:K,startX:R,startY:H,x:w,y:D})}}}}),Mt=function(n){N(e,n);var i=it(e);function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P(this,e),(t=i.call(this,r)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",t.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=dt,window.smoothscrollPolyfill.polyfill()),t}return tt(e,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),_(Y(e.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;_(Y(e.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(function(){t.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){this.instance.speed=window.pageYOffset!=this.instance.scroll.y?(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var t=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach(function(r,l){r.getBoundingClientRect();var h,c,d,v=r.dataset[t.name+"Class"]||t.class,f="string"==typeof r.dataset[t.name+"Id"]?r.dataset[t.name+"Id"]:l,g="string"==typeof r.dataset[t.name+"Offset"]?r.dataset[t.name+"Offset"].split(","):t.offset,b=r.dataset[t.name+"Repeat"],E=r.dataset[t.name+"Call"],F=r.dataset[t.name+"Target"],O=(d=void 0!==F?document.querySelector("".concat(F)):r).getBoundingClientRect(),B=(h=O.top+t.instance.scroll.y)+d.offsetHeight,p=(c=O.left+t.instance.scroll.x)+d.offsetWidth;b="false"!=b&&(null!=b||t.repeat);var w=t.getRelativeOffset(g),D={el:r,targetEl:d,id:f,class:v,top:h+=w[0],bottom:B-=w[1],left:c,right:p,offset:g,progress:0,repeat:b,inView:!1,call:E};t.els[f]=D,r.classList.contains(v)&&t.setInView(t.els[f],f)})}},{key:"updateElements",value:function(){var t=this;Object.entries(this.els).forEach(function(r){var l=I(r,2),h=l[0],c=l[1],d=c.targetEl.getBoundingClientRect().top+t.instance.scroll.y,v=d+c.targetEl.offsetHeight,f=t.getRelativeOffset(c.offset);t.els[h].top=d+f[0],t.els[h].bottom=v-f[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var r=[0,0];if(t)for(var l=0;l<t.length;l++)r[l]="string"==typeof t[l]?t[l].includes("%")?parseInt(t[l].replace("%","")*this.windowHeight/100):parseInt(t[l]):t[l];return r}},{key:"scrollTo",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=parseInt(r.offset)||0,h=!!r.callback&&r.callback;if("string"==typeof t){if("top"===t)t=this.html;else if("bottom"===t)t=this.html.offsetHeight-window.innerHeight;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");l="number"!=typeof t?t.getBoundingClientRect().top+l+this.instance.scroll.y:t+l;var c=function(){return parseInt(window.pageYOffset)===parseInt(l)};if(h){if(c())return void h();var d=function v(){c()&&(window.removeEventListener("scroll",v),h())};window.addEventListener("scroll",d)}window.scrollTo({top:l,behavior:"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){_(Y(e.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),e}(vt),V=Object.getOwnPropertySymbols,mt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable;function lt(n){if(null==n)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}var ft=function(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de","5"===Object.getOwnPropertyNames(n)[0])return!1;for(var i={},e=0;e<10;e++)i["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(i).map(function(r){return i[r]}).join(""))return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},t)).join("")}catch(r){return!1}}()?Object.assign:function(n,i){for(var e,t,r=lt(n),l=1;l<arguments.length;l++){for(var h in e=Object(arguments[l]))mt.call(e,h)&&(r[h]=e[h]);if(V){t=V(e);for(var c=0;c<t.length;c++)gt.call(e,t[c])&&(r[t[c]]=e[t[c]])}}return r};function pt(){}pt.prototype={on:function(n,i,e){var t=this.e||(this.e={});return(t[n]||(t[n]=[])).push({fn:i,ctx:e}),this},once:function(n,i,e){var t=this;function r(){t.off(n,r),i.apply(e,arguments)}return r._=i,this.on(n,r,e)},emit:function(n){for(var i=[].slice.call(arguments,1),e=((this.e||(this.e={}))[n]||[]).slice(),t=0,r=e.length;t<r;t++)e[t].fn.apply(e[t].ctx,i);return this},off:function(n,i){var e=this.e||(this.e={}),t=e[n],r=[];if(t&&i)for(var l=0,h=t.length;l<h;l++)t[l].fn!==i&&t[l].fn._!==i&&r.push(t[l]);return r.length?e[n]=r:delete e[n],this}};var xt=pt,ct=wt(function(n,i){(function(){(null!==i?i:this).Lethargy=function(){function e(t,r,l,h){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=r?1+Math.abs(r):100,this.tolerance=null!=l?1+Math.abs(l):1.1,this.delay=null!=h?h:150,this.lastUpDeltas=function(){var c,d,v;for(v=[],c=1,d=2*this.stability;1<=d?c<=d:c>=d;1<=d?c++:c--)v.push(null);return v}.call(this),this.lastDownDeltas=function(){var c,d,v;for(v=[],c=1,d=2*this.stability;1<=d?c<=d:c>=d;1<=d?c++:c--)v.push(null);return v}.call(this),this.deltasTimestamp=function(){var c,d,v;for(v=[],c=1,d=2*this.stability;1<=d?c<=d:c>=d;1<=d?c++:c--)v.push(null);return v}.call(this)}return e.prototype.check=function(t){var r;return null!=(t=t.originalEvent||t).wheelDelta?r=t.wheelDelta:null!=t.deltaY?r=-40*t.deltaY:null==t.detail&&0!==t.detail||(r=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),r>0?(this.lastUpDeltas.push(r),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(r),this.lastDownDeltas.shift(),this.isInertia(-1))},e.prototype.isInertia=function(t){var r,l,h,c,f;return null===(r=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&r[0]===r[2*this.stability-1])&&(h=r.slice(0,this.stability),l=r.slice(this.stability,2*this.stability),f=h.reduce(function(g,b){return g+b}),c=l.reduce(function(g,b){return g+b})/l.length,Math.abs(f/h.length)<Math.abs(c*this.tolerance)&&this.sensitivity<Math.abs(c)&&t)},e.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},e.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},e}()}).call(at)}),X_hasWheelEvent="onwheel"in document,X_hasMouseWheelEvent="onmousewheel"in document,X_hasTouch="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,X_hasTouchWin=navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,X_hasPointer=!!window.navigator.msPointerEnabled,X_hasKeyDown="onkeydown"in document,X_isFirefox=navigator.userAgent.indexOf("Firefox")>-1,nt=Object.prototype.toString,St=Object.prototype.hasOwnProperty;function kt(n,i){return function(){return n.apply(i,arguments)}}var Rt=ct.Lethargy,Q="virtualscroll",u=S;function S(n){(function(i){if(!i)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var t in i)St.call(i,t)&&"function"==typeof i[t]&&"[object Function]"==nt.call(i[t])&&e.push(t);for(var r=0;r<e.length;r++){var l=e[r];i[l]=kt(i[l],i)}})(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,n&&n.el&&(this.el=n.el,delete n.el),this.options=ft({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},n),this.options.limitInertia&&(this._lethargy=new Rt),this._emitter=new xt,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function M(n,i,e){return(1-e)*n+e*i}function A(n){var i={};if(window.getComputedStyle){var e=getComputedStyle(n),t=e.transform||e.webkitTransform||e.mozTransform,r=t.match(/^matrix3d\((.+)\)$/);return r?(i.x=r?parseFloat(r[1].split(", ")[12]):0,i.y=r?parseFloat(r[1].split(", ")[13]):0):(r=t.match(/^matrix\((.+)\)$/),i.x=r?parseFloat(r[1].split(", ")[4]):0,i.y=r?parseFloat(r[1].split(", ")[5]):0),i}}function Z(n){for(var i=[];n&&n!==document;n=n.parentNode)i.push(n);return i}S.prototype._notify=function(n){var i=this._event;i.x+=i.deltaX,i.y+=i.deltaY,this._emitter.emit(Q,{x:i.x,y:i.y,deltaX:i.deltaX,deltaY:i.deltaY,originalEvent:n})},S.prototype._onWheel=function(n){var i=this.options;if(!this._lethargy||!1!==this._lethargy.check(n)){var e=this._event;e.deltaX=n.wheelDeltaX||-1*n.deltaX,e.deltaY=n.wheelDeltaY||-1*n.deltaY,X_isFirefox&&1==n.deltaMode&&(e.deltaX*=i.firefoxMultiplier,e.deltaY*=i.firefoxMultiplier),e.deltaX*=i.mouseMultiplier,e.deltaY*=i.mouseMultiplier,this._notify(n)}},S.prototype._onMouseWheel=function(n){if(!this.options.limitInertia||!1!==this._lethargy.check(n)){var i=this._event;i.deltaX=n.wheelDeltaX?n.wheelDeltaX:0,i.deltaY=n.wheelDeltaY?n.wheelDeltaY:n.wheelDelta,this._notify(n)}},S.prototype._onTouchStart=function(n){var i=n.targetTouches?n.targetTouches[0]:n;this.touchStartX=i.pageX,this.touchStartY=i.pageY},S.prototype._onTouchMove=function(n){var i=this.options;i.preventTouch&&!n.target.classList.contains(i.unpreventTouchClass)&&n.preventDefault();var e=this._event,t=n.targetTouches?n.targetTouches[0]:n;e.deltaX=(t.pageX-this.touchStartX)*i.touchMultiplier,e.deltaY=(t.pageY-this.touchStartY)*i.touchMultiplier,this.touchStartX=t.pageX,this.touchStartY=t.pageY,this._notify(n)},S.prototype._onKeyDown=function(n){var i=this._event;i.deltaX=i.deltaY=0;var e=window.innerHeight-40;switch(n.keyCode){case 37:case 38:i.deltaY=this.options.keyStep;break;case 39:case 40:i.deltaY=-this.options.keyStep;break;case n.shiftKey:i.deltaY=e;break;case 32:i.deltaY=-e;break;default:return}this._notify(n)},S.prototype._bind=function(){X_hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),X_hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),X_hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),X_hasPointer&&X_hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),X_hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},S.prototype._unbind=function(){X_hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),X_hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),X_hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),X_hasPointer&&X_hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),X_hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},S.prototype.on=function(n,i){this._emitter.on(Q,n,i);var e=this._emitter.e;e&&e[Q]&&1===e[Q].length&&this._bind()},S.prototype.off=function(n,i){this._emitter.off(Q,n,i);var e=this._emitter.e;(!e[Q]||e[Q].length<=0)&&this._unbind()},S.prototype.reset=function(){var n=this._event;n.x=0,n.y=0},S.prototype.destroy=function(){this._emitter.off(),this._unbind()};var Tt="function"==typeof Float32Array;function Et(n,i){return 1-3*i+3*n}function Ot(n,i){return 3*i-6*n}function yt(n){return 3*n}function At(n,i,e){return((Et(i,e)*n+Ot(i,e))*n+yt(i))*n}function jt(n,i,e){return 3*Et(i,e)*n*n+2*Ot(i,e)*n+yt(i)}function Pt(n){return n}var Ct=function(n,i,e,t){if(!(0<=n&&n<=1&&0<=e&&e<=1))throw new Error("bezier x values must be in [0, 1] range");if(n===i&&e===t)return Pt;for(var r=Tt?new Float32Array(11):new Array(11),l=0;l<11;++l)r[l]=At(.1*l,n,e);return function(c){return 0===c?0:1===c?1:At(function(c){for(var d=0,v=1;10!==v&&r[v]<=c;++v)d+=.1;--v;var f=d+(c-r[v])/(r[v+1]-r[v])*.1,g=jt(f,n,e);return g>=.001?function(b,E,F,O){for(var B=0;B<4;++B){var p=jt(E,F,O);if(0===p)return E;E-=(At(E,F,O)-b)/p}return E}(c,f,n,e):0===g?f:function(b,E,F,O,B){var p,w,D=0;do{(p=At(w=E+(F-E)/2,O,B)-b)>0?F=w:E=w}while(Math.abs(p)>1e-7&&++D<10);return w}(c,d,d+.1,n,e)}(c),i,t)}},a=function(n){N(e,n);var i=it(e);function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P(this,e),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(t=i.call(this,r)).inertia&&(t.lerp=.1*t.inertia),t.isScrolling=!1,t.isDraggingScrollbar=!1,t.isTicking=!1,t.hasScrollTicking=!1,t.parallaxElements={},t.stop=!1,t.scrollbarContainer=r.scrollbarContainer,t.checkKey=t.checkKey.bind(G(t)),window.addEventListener("keydown",t.checkKey,!1),t}return tt(e,[{key:"init",value:function(){var t=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=et({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new u({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(r){t.stop||t.isDraggingScrollbar||requestAnimationFrame(function(){t.updateDelta(r),t.isScrolling||t.startScrolling()})}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),_(Y(e.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var t=0,r=this.el.children,l=0;l<r.length;l++)t+=r[l].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var r=this;if(this.stop)9==t.keyCode&&requestAnimationFrame(function(){r.html.scrollTop=0,document.body.scrollTop=0,r.html.scrollLeft=0,document.body.scrollLeft=0});else{switch(t.keyCode){case 9:requestAnimationFrame(function(){r.html.scrollTop=0,document.body.scrollTop=0,r.html.scrollLeft=0,document.body.scrollLeft=0,r.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case 38:this.instance.delta[this.directionAxis]-=240;break;case 40:this.instance.delta[this.directionAxis]+=240;break;case 33:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case 34:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case 36:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case 35:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case 32:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(t.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return t.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll();var l=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),h=Date.now()-this.startScrollTs;if(!this.animatingScroll&&h>100&&(l<.5&&0!=this.instance.delta[this.directionAxis]||l<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach(function(d){var f=I(d,2)[1];f.persistent||t.instance.scroll[t.directionAxis]>f.offset[t.directionAxis]&&t.instance.scroll[t.directionAxis]<f.limit[t.directionAxis]?("horizontal"===t.direction?t.transform(f.el,-t.instance.scroll[t.directionAxis],0):t.transform(f.el,0,-t.instance.scroll[t.directionAxis]),f.inView||(f.inView=!0,f.el.style.opacity=1,f.el.style.pointerEvents="all",f.el.setAttribute("data-".concat(t.name,"-section-inview"),""))):((f.inView||r)&&(f.inView=!1,f.el.style.opacity=0,f.el.style.pointerEvents="none",f.el.removeAttribute("data-".concat(t.name,"-section-inview"))),t.transform(f.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var c=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,c,0):this.transform(this.scrollbarThumb,0,c)}_(Y(e.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(t){var l=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;this.instance.delta[this.directionAxis]-=("both"===l?t.deltaX+t.deltaY:"vertical"===l?t.deltaY:"horizontal"===l?t.deltaX:t.deltaY)*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=M(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.instance.limit[this.directionAxis]:this.instance.scroll.y<0?0:this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.speed=this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(t){var r=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var l=100*(t.clientX-r.scrollbarBCR.left)/r.scrollbarWidth*r.instance.limit.x/100,h=100*(t.clientY-r.scrollbarBCR.top)/r.scrollbarHeight*r.instance.limit.y/100;h>0&&h<r.instance.limit.y&&(r.instance.delta.y=h),l>0&&l<r.instance.limit.x&&(r.instance.delta.x=l)})}},{key:"addElements",value:function(){var t=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach(function(r,l){var h,c,d,v=Z(r),f=Object.entries(t.sections).map(function(Ht){return I(Ht,2)[1]}).find(function(Ht){return v.includes(Ht.el)}),g=r.dataset[t.name+"Class"]||t.class,b="string"==typeof r.dataset[t.name+"Id"]?r.dataset[t.name+"Id"]:"el"+l,E=r.dataset[t.name+"Repeat"],F=r.dataset[t.name+"Call"],O=r.dataset[t.name+"Position"],B=r.dataset[t.name+"Delay"],p=r.dataset[t.name+"Direction"],w="string"==typeof r.dataset[t.name+"Sticky"],D=!!r.dataset[t.name+"Speed"]&&parseFloat(r.dataset[t.name+"Speed"])/10,L="string"==typeof r.dataset[t.name+"Offset"]?r.dataset[t.name+"Offset"].split(","):t.offset,R=r.dataset[t.name+"Target"],H=(d=void 0!==R?document.querySelector("".concat(R)):r).getBoundingClientRect();null===f||f.inView?(h=H.top+t.instance.scroll.y-A(d).y,c=H.left+t.instance.scroll.x-A(d).x):(h=H.top-A(f.el).y-A(d).y,c=H.left-A(f.el).x-A(d).x);var $=h+d.offsetHeight,K=c+d.offsetWidth,ut={x:(K-c)/2+c,y:($-h)/2+h};if(w){var Bt=r.getBoundingClientRect(),Yt=Bt.top,zt=Bt.left,Xt={x:zt-c,y:Yt-h};h+=window.innerHeight,c+=window.innerWidth,ut={x:((K=zt+d.offsetWidth-r.offsetWidth-Xt[t.directionAxis])-c)/2+c,y:(($=Yt+d.offsetHeight-r.offsetHeight-Xt[t.directionAxis])-h)/2+h}}E="false"!=E&&(null!=E||t.repeat);var rt=[0,0];if(L)if("horizontal"===t.direction){for(var C=0;C<L.length;C++)rt[C]="string"==typeof L[C]?L[C].includes("%")?parseInt(L[C].replace("%","")*t.windowWidth/100):parseInt(L[C]):L[C];c+=rt[0],K-=rt[1]}else{for(C=0;C<L.length;C++)rt[C]="string"==typeof L[C]?L[C].includes("%")?parseInt(L[C].replace("%","")*t.windowHeight/100):parseInt(L[C]):L[C];h+=rt[0],$-=rt[1]}var qt={el:r,id:b,class:g,section:f,top:h,middle:ut,bottom:$,left:c,right:K,offset:L,progress:0,repeat:E,inView:!1,call:F,speed:D,delay:B,position:O,target:d,direction:p,sticky:w};t.els[b]=qt,r.classList.contains(g)&&t.setInView(t.els[b],b),(!1!==D||w)&&(t.parallaxElements[b]=qt)})}},{key:"addSections",value:function(){var t=this;this.sections={};var r=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===r.length&&(r=[this.el]),r.forEach(function(l,h){var c="string"==typeof l.dataset[t.name+"Id"]?l.dataset[t.name+"Id"]:"section"+h,d=l.getBoundingClientRect(),v={x:d.left-1.5*window.innerWidth-A(l).x,y:d.top-1.5*window.innerHeight-A(l).y},f={x:v.x+d.width+2*window.innerWidth,y:v.y+d.height+2*window.innerHeight},g="string"==typeof l.dataset[t.name+"Persistent"];l.setAttribute("data-scroll-section-id",c),t.sections[c]={el:l,offset:v,limit:f,inView:!1,persistent:g,id:c}})}},{key:"transform",value:function(t,r,l,h){var c;if(h){var d=A(t),v=M(d.x,r,h),f=M(d.y,l,h);c="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(v,",").concat(f,",0,1)")}else c="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(r,",").concat(l,",0,1)");t.style.webkitTransform=c,t.style.msTransform=c,t.style.transform=c}},{key:"transformElements",value:function(t){var r=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=this.instance.scroll.x+this.windowWidth,c=this.instance.scroll.y+this.windowHeight,d={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(v){var g=I(v,2)[1],b=!1;if(t&&(b=0),g.inView||l)switch(g.position){case"top":case"left":b=r.instance.scroll[r.directionAxis]*-g.speed;break;case"elementTop":b=(c-g.top)*-g.speed;break;case"bottom":b=(r.instance.limit[r.directionAxis]-c+r.windowHeight)*g.speed;break;case"elementLeft":b=(h-g.left)*-g.speed;break;case"right":b=(r.instance.limit[r.directionAxis]-h+r.windowHeight)*g.speed;break;default:b=(d[r.directionAxis]-g.middle[r.directionAxis])*-g.speed}g.sticky&&(b=g.inView?"horizontal"===r.direction?r.instance.scroll.x-g.left+window.innerWidth:r.instance.scroll.y-g.top+window.innerHeight:"horizontal"===r.direction?r.instance.scroll.x<g.left-window.innerWidth&&r.instance.scroll.x<g.left-window.innerWidth/2?0:r.instance.scroll.x>g.right&&r.instance.scroll.x>g.right+100&&g.right-g.left+window.innerWidth:r.instance.scroll.y<g.top-window.innerHeight&&r.instance.scroll.y<g.top-window.innerHeight/2?0:r.instance.scroll.y>g.bottom&&r.instance.scroll.y>g.bottom+100&&g.bottom-g.top+window.innerHeight),!1!==b&&("horizontal"===g.direction||"horizontal"===r.direction&&"vertical"!==g.direction?r.transform(g.el,b,0,!t&&g.delay):r.transform(g.el,0,b,!t&&g.delay))})}},{key:"scrollTo",value:function(t){var r=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=parseInt(l.offset)||0,c=isNaN(parseInt(l.duration))?1e3:parseInt(l.duration),d=l.easing||[.25,0,.35,1],v=!!l.disableLerp,f=!!l.callback&&l.callback;if(d=Ct.apply(void 0,Dt(d)),"string"==typeof t){if("top"===t)t=0;else if("bottom"===t)t=this.instance.limit.y;else if("left"===t)t=0;else if("right"===t)t=this.instance.limit.x;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof t){var g=Z(t).includes(this.el);if(!g)return;var b=t.getBoundingClientRect(),E=b.top,F=b.left,O=Z(t),B=O.find(function(K){return Object.entries(r.sections).map(function(ut){return I(ut,2)[1]}).find(function(ut){return ut.el==K})}),p=0;p=B?A(B)[this.directionAxis]:-this.instance.scroll[this.directionAxis],h="horizontal"===this.direction?F+h-p:E+h-p}else h=t+h;var w=parseFloat(this.instance.delta[this.directionAxis]),D=Math.max(0,Math.min(h,this.instance.limit[this.directionAxis])),L=D-w,R=function(K){v?"horizontal"===r.direction?r.setScroll(w+L*K,r.instance.delta.y):r.setScroll(r.instance.delta.x,w+L*K):r.instance.delta[r.directionAxis]=w+L*K};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var H=Date.now(),$=function K(){var ut=(Date.now()-H)/c;ut>1?(R(1),r.animatingScroll=!1,0==c&&r.update(),f&&f()):(r.scrollToRaf=requestAnimationFrame(K),R(d(ut)))};$()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,r){this.instance=et(et({},this.instance),{},{scroll:{x:t,y:r},delta:{x:t,y:r},speed:0})}},{key:"destroy",value:function(){_(Y(e.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),e}(vt);return function(){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};P(this,n),this.options=i,Object.assign(this,q,i),this.smartphone=q.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=q.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.smooth||"horizontal"!=this.direction||console.warn("\u{1f6a8} `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("\u{1f6a8} `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("\u{1f6a8} `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return tt(n,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.scroll=this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?new a(this.options):new Mt(this.options),this.scroll.init(),window.location.hash){var i=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(i);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(i,e){this.scroll.scrollTo(i,e)}},{key:"setScroll",value:function(i,e){this.scroll.setScroll(i,e)}},{key:"on",value:function(i,e){this.scroll.setEvents(i,e)}},{key:"off",value:function(i,e){this.scroll.unsetEvents(i,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),n}()}),function(P,W){"object"==typeof exports&&"undefined"!=typeof module?module.exports=W():"function"==typeof define&&define.amd?define(W):(P=P||self).ScrollReveal=W()}(this,function(){"use strict";var P={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}},J_success=function(){document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",function(){document.body.style.height="100%"})},J_failure=function(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}};function U(s){return"object"==typeof window.Node?s instanceof window.Node:null!==s&&"object"==typeof s&&"number"==typeof s.nodeType&&"string"==typeof s.nodeName}function N(s,o){if(void 0===o&&(o=document),s instanceof Array)return s.filter(U);if(U(s))return[s];if(function(s){var o=Object.prototype.toString.call(s);return"object"==typeof window.NodeList?s instanceof window.NodeList:null!==s&&"object"==typeof s&&"number"==typeof s.length&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(o)&&(0===s.length||U(s[0]))}(s))return Array.prototype.slice.call(s);if("string"==typeof s)try{var a=o.querySelectorAll(s);return Array.prototype.slice.call(a)}catch(n){return[]}return[]}function Y(s){return null!==s&&s instanceof Object&&(s.constructor===Object||"[object Object]"===Object.prototype.toString.call(s))}function x(s,o){if(Y(s))return Object.keys(s).forEach(function(n){return o(s[n],n,s)});if(s instanceof Array)return s.forEach(function(n,i){return o(n,i,s)});throw new TypeError("Expected either an array or object literal.")}function G(s){for(var o=[],a=arguments.length-1;a-- >0;)o[a]=arguments[a+1];if(this.constructor.debug&&console){var n="%cScrollReveal: "+s;o.forEach(function(i){return n+="\n \u2014 "+i}),console.log(n,"color: #ea654b;")}}function bt(){var s=this,a={active:[],stale:[]},n={active:[],stale:[]},i={active:[],stale:[]};try{x(N("[data-sr-id]"),function(e){var t=parseInt(e.getAttribute("data-sr-id"));a.active.push(t)})}catch(e){throw e}x(this.store.elements,function(e){-1===a.active.indexOf(e.id)&&a.stale.push(e.id)}),x(a.stale,function(e){return delete s.store.elements[e]}),x(this.store.elements,function(e){-1===i.active.indexOf(e.containerId)&&i.active.push(e.containerId),e.hasOwnProperty("sequence")&&-1===n.active.indexOf(e.sequence.id)&&n.active.push(e.sequence.id)}),x(this.store.containers,function(e){-1===i.active.indexOf(e.id)&&i.stale.push(e.id)}),x(i.stale,function(e){var t=s.store.containers[e].node;t.removeEventListener("scroll",s.delegate),t.removeEventListener("resize",s.delegate),delete s.store.containers[e]}),x(this.store.sequences,function(e){-1===n.active.indexOf(e.id)&&n.stale.push(e.id)}),x(n.stale,function(e){return delete s.store.sequences[e]})}function it(s){if(s.constructor!==Array)throw new TypeError("Expected array.");if(16===s.length)return s;if(6===s.length){var o=_();return o[0]=s[0],o[1]=s[1],o[4]=s[2],o[5]=s[3],o[12]=s[4],o[13]=s[5],o}throw new RangeError("Expected array with either 6 or 16 values.")}function _(){for(var s=[],o=0;o<16;o++)s.push(o%5==0?1:0);return s}function I(s,o){for(var a=it(s),n=it(o),i=[],e=0;e<4;e++)for(var t=[a[e],a[e+4],a[e+8],a[e+12]],r=0;r<4;r++){var l=4*r,h=[n[l],n[l+1],n[l+2],n[l+3]];i[e+l]=t[0]*h[0]+t[1]*h[1]+t[2]*h[2]+t[3]*h[3]}return i}function Dt(s){if("string"==typeof s){var o=s.match(/matrix(3d)?\(([^)]+)\)/);if(o)return it(o[2].split(", ").map(parseFloat))}return _()}var dt=function(){var s={},o=document.documentElement.style;function a(n,i){if(void 0===i&&(i=o),n&&"string"==typeof n){if(s[n])return s[n];if("string"==typeof i[n])return s[n]=n;if("string"==typeof i["-webkit-"+n])return s[n]="-webkit-"+n;throw new RangeError('Unable to find "'+n+'" style property.')}throw new TypeError("Expected a string.")}return a.clearCache=function(){return s={}},a}();function Mt(s){var o=window.getComputedStyle(s.node),a=o.position,n=s.config,i={},t=(s.node.getAttribute("style")||"").match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];i.computed=t?t.map(function(R){return R.trim()}).join("; ")+";":"",i.generated=t.some(function(R){return R.match(/visibility\s?:\s?visible/i)})?i.computed:t.concat(["visibility: visible"]).map(function(R){return R.trim()}).join("; ")+";";var r=parseFloat(o.opacity),l=isNaN(parseFloat(n.opacity))?parseFloat(o.opacity):parseFloat(n.opacity),h={computed:r!==l?"opacity: "+r+";":"",generated:r!==l?"opacity: "+l+";":""},c=[];if(parseFloat(n.distance)){var d="top"===n.origin||"bottom"===n.origin?"Y":"X",v=n.distance;("top"===n.origin||"left"===n.origin)&&(v=/^-/.test(v)?v.substr(1):"-"+v);var f=v.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),g=f[0];switch(f[1]){case"em":v=parseInt(o.fontSize)*g;break;case"px":v=g;break;case"%":v="Y"===d?s.node.getBoundingClientRect().height*g/100:s.node.getBoundingClientRect().width*g/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}c.push("Y"===d?function(s){var o=_();return o[13]=s,o}(v):function(s){var o=_();return o[12]=s,o}(v))}n.rotate.x&&c.push(function(s){var o=Math.PI/180*s,a=_();return a[5]=a[10]=Math.cos(o),a[6]=a[9]=Math.sin(o),a[9]*=-1,a}(n.rotate.x)),n.rotate.y&&c.push(function(s){var o=Math.PI/180*s,a=_();return a[0]=a[10]=Math.cos(o),a[2]=a[8]=Math.sin(o),a[2]*=-1,a}(n.rotate.y)),n.rotate.z&&c.push(function(s){var o=Math.PI/180*s,a=_();return a[0]=a[5]=Math.cos(o),a[1]=a[4]=Math.sin(o),a[4]*=-1,a}(n.rotate.z)),1!==n.scale&&c.push(function(s,o){var a=_();return a[0]=s,a[5]="number"==typeof o?o:s,a}(0===n.scale?2e-4:n.scale));var E={};if(c.length){E.property=dt("transform"),E.computed={raw:o[E.property],matrix:Dt(o[E.property])},c.unshift(E.computed.matrix);var F=c.reduce(I);E.generated={initial:E.property+": matrix3d("+F.join(", ")+");",final:E.property+": matrix3d("+E.computed.matrix.join(", ")+");"}}else E.generated={initial:"",final:""};var O={};if(h.generated||E.generated.initial){O.property=dt("transition"),O.computed=o[O.property],O.fragments=[];var B=n.delay,p=n.duration,w=n.easing;h.generated&&O.fragments.push({delayed:"opacity "+p/1e3+"s "+w+" "+B/1e3+"s",instant:"opacity "+p/1e3+"s "+w+" 0s"}),E.generated.initial&&O.fragments.push({delayed:E.property+" "+p/1e3+"s "+w+" "+B/1e3+"s",instant:E.property+" "+p/1e3+"s "+w+" 0s"}),O.computed&&!O.computed.match(/all 0s|none 0s/)&&O.fragments.unshift({delayed:O.computed,instant:O.computed});var L=O.fragments.reduce(function(R,H,$){return R.delayed+=0===$?H.delayed:", "+H.delayed,R.instant+=0===$?H.instant:", "+H.instant,R},{delayed:"",instant:""});O.generated={delayed:O.property+": "+L.delayed+";",instant:O.property+": "+L.instant+";"}}else O.generated={delayed:"",instant:""};return{inline:i,opacity:h,position:a,transform:E,transition:O}}function V(s,o){o.split(";").forEach(function(a){var n=a.split(":"),i=n[0],e=n.slice(1);i&&e&&(s.style[i.trim()]=e.join(":"))})}function mt(s){var a,o=this;try{x(N(s),function(n){var i=n.getAttribute("data-sr-id");if(null!==i){a=!0;var e=o.store.elements[i];e.callbackTimer&&window.clearTimeout(e.callbackTimer.clock),V(e.node,e.styles.inline.generated),n.removeAttribute("data-sr-id"),delete o.store.elements[i]}})}catch(n){return G.call(this,"Clean failed.",n.message)}if(a)try{bt.call(this)}catch(n){return G.call(this,"Clean failed.",n.message)}}function gt(){var s=this;x(this.store.elements,function(o){V(o.node,o.styles.inline.generated),o.node.removeAttribute("data-sr-id")}),x(this.store.containers,function(o){var a=o.node===document.documentElement?window:o.node;a.removeEventListener("scroll",s.delegate),a.removeEventListener("resize",s.delegate)}),this.store={containers:{},elements:{},history:[],sequences:{}}}function lt(s){for(var o=[],a=arguments.length-1;a-- >0;)o[a]=arguments[a+1];if(Y(s))return x(o,function(n){x(n,function(i,e){Y(i)?((!s[e]||!Y(s[e]))&&(s[e]={}),lt(s[e],i)):s[e]=i})}),s;throw new TypeError("Target must be an object literal.")}function ft(s){return void 0===s&&(s=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(s)}var s,pt=(s=0,function(){return s++});function xt(){var s=this;bt.call(this),x(this.store.elements,function(o){var a=[o.styles.inline.generated];o.visible?(a.push(o.styles.opacity.computed),a.push(o.styles.transform.generated.final),o.revealed=!0):(a.push(o.styles.opacity.generated),a.push(o.styles.transform.generated.initial),o.revealed=!1),V(o.node,a.filter(function(n){return""!==n}).join(" "))}),x(this.store.containers,function(o){var a=o.node===document.documentElement?window:o.node;a.addEventListener("scroll",s.delegate),a.addEventListener("resize",s.delegate)}),this.delegate(),this.initTimeout=null}function ct(s,o){void 0===o&&(o={});var e=!s.visible&&s.revealed&&s.config.reset;return o.reveal||s.visible&&!s.revealed?X.call(this,s,"always"===s.config.useDelay||"onload"===s.config.useDelay&&(o.pristine||this.pristine)||"once"===s.config.useDelay&&!s.seen):o.reset||e?nt.call(this,s):void 0}function X(s,o){var a=[s.styles.inline.generated,s.styles.opacity.computed,s.styles.transform.generated.final];a.push(o?s.styles.transition.generated.delayed:s.styles.transition.generated.instant),s.revealed=s.seen=!0,V(s.node,a.filter(function(n){return""!==n}).join(" ")),St.call(this,s,o)}function nt(s){var o=[s.styles.inline.generated,s.styles.opacity.generated,s.styles.transform.generated.initial,s.styles.transition.generated.instant];s.revealed=!1,V(s.node,o.filter(function(a){return""!==a}).join(" ")),St.call(this,s)}function St(s,o){var a=this,n=o?s.config.duration+s.config.delay:s.config.duration,i=s.revealed?s.config.beforeReveal:s.config.beforeReset,e=s.revealed?s.config.afterReveal:s.config.afterReset,t=0;s.callbackTimer&&(t=Date.now()-s.callbackTimer.start,window.clearTimeout(s.callbackTimer.clock)),i(s.node),s.callbackTimer={start:Date.now(),clock:window.setTimeout(function(){e(s.node),s.callbackTimer=null,s.revealed&&!s.config.reset&&s.config.cleanup&&mt.call(a,s.node)},n-t)}}function kt(s,o){if(void 0===o&&(o=this.pristine),!s.visible&&s.revealed&&s.config.reset)return ct.call(this,s,{reset:!0});var a=this.store.sequences[s.sequence.id],n=s.sequence.index;if(a){var i=new Q(a,"visible",this.store),e=new Q(a,"revealed",this.store);if(a.models={visible:i,revealed:e},!e.body.length){var r=this.store.elements[a.members[i.body[0]]];if(r)return u.call(this,a,i.body[0],-1,o),u.call(this,a,i.body[0],1,o),ct.call(this,r,{reveal:!0,pristine:o})}if(!a.blocked.head&&n===[].concat(e.head).pop()&&n>=[].concat(i.body).shift())return u.call(this,a,n,-1,o),ct.call(this,s,{reveal:!0,pristine:o});if(!a.blocked.foot&&n===[].concat(e.foot).shift()&&n<=[].concat(i.body).pop())return u.call(this,a,n,1,o),ct.call(this,s,{reveal:!0,pristine:o})}}function Rt(s){var o=Math.abs(s);if(isNaN(o))throw new RangeError("Invalid sequence interval.");this.id=pt(),this.interval=Math.max(o,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1}}function Q(s,o,a){var n=this;this.head=[],this.body=[],this.foot=[],x(s.members,function(i,e){var t=a.elements[i];t&&t[o]&&n.body.push(e)}),this.body.length&&x(s.members,function(i,e){var t=a.elements[i];t&&!t[o]&&(e<n.body[0]?n.head.push(e):n.foot.push(e))})}function u(s,o,a,n){var i=this,e=["head",null,"foot"][1+a],r=this.store.elements[s.members[o+a]];s.blocked[e]=!0,setTimeout(function(){s.blocked[e]=!1,r&&kt.call(i,r,n)},s.interval)}function m(s,o,a){var n=this;void 0===o&&(o={}),void 0===a&&(a=!1);var e,i=[],t=o.interval||P.interval;try{t&&(e=new Rt(t));var r=N(s);if(!r.length)throw new Error("Invalid reveal target.");var l=r.reduce(function(h,c){var d={},v=c.getAttribute("data-sr-id");v?(lt(d,n.store.elements[v]),V(d.node,d.styles.inline.computed)):(d.id=pt(),d.node=c,d.seen=!1,d.revealed=!1,d.visible=!1);var f=lt({},d.config||n.defaults,o);if(!f.mobile&&ft()||!f.desktop&&!ft())return v&&mt.call(n,d),h;var b,g=N(f.container)[0];if(!g)throw new Error("Invalid container.");return g.contains(c)?(b=function(s){for(var o=[],a=arguments.length-1;a-- >0;)o[a]=arguments[a+1];var n=null;return x(o,function(i){x(i,function(e){null===n&&e.node===s&&(n=e.id)})}),n}(g,i,n.store.containers),null===b&&(b=pt(),i.push({id:b,node:g})),d.config=f,d.containerId=b,d.styles=Mt(d),e&&(d.sequence={id:e.id,index:e.members.length},e.members.push(d.id)),h.push(d),h):h},[]);x(l,function(h){n.store.elements[h.id]=h,h.node.setAttribute("data-sr-id",h.id)})}catch(h){return G.call(this,"Reveal failed.",h.message)}x(i,function(h){n.store.containers[h.id]={id:h.id,node:h.node}}),e&&(this.store.sequences[e.id]=e),!0!==a&&(this.store.history.push({target:s,options:o}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(xt.bind(this),0))}function k(){var s=this;x(this.store.history,function(o){m.call(s,o.target,o.options,!0)}),xt.call(this)}var jt,Pt,Ct,It,Wt,st,Lt,_t,j=Math.sign||function(s){return(s>0)-(s<0)||+s},S=function(){var s=Date.now();return function(o){var a=Date.now();a-s>16?(s=a,o(a)):setTimeout(function(){return S(o)},0)}}(),M=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||S;function A(s,o){var a=o?s.node.clientHeight:s.node.offsetHeight,n=o?s.node.clientWidth:s.node.offsetWidth,i=0,e=0,t=s.node;do{isNaN(t.offsetTop)||(i+=t.offsetTop),isNaN(t.offsetLeft)||(e+=t.offsetLeft),t=t.offsetParent}while(t);return{bounds:{top:i,right:e+n,bottom:i+a,left:e},height:a,width:n}}function Z(s){var o,a;return s.node===document.documentElement?(o=window.pageYOffset,a=window.pageXOffset):(o=s.node.scrollTop,a=s.node.scrollLeft),{top:o,left:a}}function Tt(s){void 0===s&&(s={});var o=this.store.containers[s.containerId];if(o){var a=Math.max(0,Math.min(1,s.config.viewFactor)),n=s.config.viewOffset,i={top:s.geometry.bounds.top+s.geometry.height*a,right:s.geometry.bounds.right-s.geometry.width*a,bottom:s.geometry.bounds.bottom-s.geometry.height*a,left:s.geometry.bounds.left+s.geometry.width*a},e={top:o.geometry.bounds.top+o.scroll.top+n.top,right:o.geometry.bounds.right+o.scroll.left-n.right,bottom:o.geometry.bounds.bottom+o.scroll.top-n.bottom,left:o.geometry.bounds.left+o.scroll.left+n.left};return i.top<e.bottom&&i.right>e.left&&i.bottom>e.top&&i.left<e.right||"fixed"===s.styles.position}}function Et(s,o){var a=this;void 0===s&&(s={type:"init"}),void 0===o&&(o=this.store.elements),M(function(){var n="init"===s.type||"resize"===s.type;x(a.store.containers,function(i){n&&(i.geometry=A.call(a,i,!0));var e=Z.call(a,i);i.scroll&&(i.direction={x:j(e.left-i.scroll.left),y:j(e.top-i.scroll.top)}),i.scroll=e}),x(o,function(i){(n||void 0===i.geometry)&&(i.geometry=A.call(a,i)),i.visible=Tt.call(a,i)}),x(o,function(i){i.sequence?kt.call(a,i):ct.call(a,i)}),a.pristine=!1})}function ht(s){var a;if(void 0===s&&(s={}),void 0===this||Object.getPrototypeOf(this)!==ht.prototype)return new ht(s);if(!ht.isSupported())return G.call(this,"Instantiation failed.","This browser is not supported."),J_failure();try{a=lt({},st||P,s)}catch(i){return G.call(this,"Invalid configuration.",i.message),J_failure()}try{if(!N(a.container)[0])throw new Error("Invalid container.")}catch(i){return G.call(this,i.message),J_failure()}return!(st=a).mobile&&ft()||!st.desktop&&!ft()?(G.call(this,"This device is disabled.","desktop: "+st.desktop,"mobile: "+st.mobile),J_failure()):(J_success(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,jt=jt||Et.bind(this),Pt=Pt||gt.bind(this),Ct=Ct||m.bind(this),It=It||mt.bind(this),Wt=Wt||k.bind(this),Object.defineProperty(this,"delegate",{get:function(){return jt}}),Object.defineProperty(this,"destroy",{get:function(){return Pt}}),Object.defineProperty(this,"reveal",{get:function(){return Ct}}),Object.defineProperty(this,"clean",{get:function(){return It}}),Object.defineProperty(this,"sync",{get:function(){return Wt}}),Object.defineProperty(this,"defaults",{get:function(){return st}}),Object.defineProperty(this,"version",{get:function(){return"4.0.9"}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),_t||(_t=this))}return ht.isSupported=function(){return function(){var s=document.documentElement.style;return"transform"in s||"WebkitTransform"in s}()&&function(){var s=document.documentElement.style;return"transition"in s||"WebkitTransition"in s}()},Object.defineProperty(ht,"debug",{get:function(){return Lt||!1},set:function(s){return Lt="boolean"==typeof s?s:Lt}}),ht(),ht}),function(P,W){"object"==typeof exports&&"undefined"!=typeof module?module.exports=W():"function"==typeof define&&define.amd?define(W):P.Splitting=W()}(this,function(){"use strict";var P=document,W=P.createTextNode.bind(P);function tt(u,m,y){u.style.setProperty(m,y)}function J(u,m){return u.appendChild(m)}function U(u,m,y,k){var T=P.createElement("span");return m&&(T.className=m),y&&(!k&&T.setAttribute("data-"+m,y),T.textContent=y),u&&J(u,T)||T}function et(u,m){return u.getAttribute("data-"+m)}function N(u,m){return u&&0!=u.length?u.nodeName?[u]:[].slice.call(u[0].nodeName?u:(m||P).querySelectorAll(u)):[]}function Y(u){for(var m=[];u--;)m[u]=[];return m}function x(u,m){u&&u.some(m)}function G(u){return function(m){return u[m]}}var it={};function _(u,m,y){var k=y.indexOf(u);if(-1==k)y.unshift(u),x(it[u].depends,function(j){_(j,u,y)});else{var T=y.indexOf(m);y.splice(k,1),y.splice(T,0,u)}return y}function I(u,m,y,k){return{by:u,depends:m,key:y,split:k}}function Dt(u){return _(u,0,[]).map(G(it))}function z(u){it[u.by]=u}function ot(u,m,y,k,T){u.normalize();var j=[],S=document.createDocumentFragment();k&&j.push(u.previousSibling);var M=[];return N(u.childNodes).some(function(A){if(!A.tagName||A.hasChildNodes()){if(A.childNodes&&A.childNodes.length)return M.push(A),void j.push.apply(j,ot(A,m,y,k,T));var Z=A.wholeText||"",Tt=Z.trim();Tt.length&&(" "===Z[0]&&M.push(W(" ")),x(Tt.split(y),function(Et,Ot){Ot&&T&&M.push(U(S,"whitespace"," ",T));var yt=U(S,m,Et);j.push(yt),M.push(yt)})," "===Z[Z.length-1]&&M.push(W(" ")))}else M.push(A)}),x(M,function(A){J(S,A)}),u.innerHTML="",J(u,S),j}var at="words",wt=I(at,0,"word",function(u){return ot(u,"word",/\s+/,0,1)}),Mt=I("chars",[at],"char",function(u,m,y){var k=[];return x(y[at],function(T,j){k.push.apply(k,ot(T,"char","",m.whitespace&&j))}),k});function V(u){var m=(u=u||{}).key;return N(u.target||"[data-splitting]").map(function(y){var k=y["\u{1f34c}"];if(!u.force&&k)return k;k=y["\u{1f34c}"]={el:y};var T=Dt(u.by||et(y,"splitting")||"chars"),j=function(u,m){for(var y in m)u[y]=m[y];return u}({},u);return x(T,function(S){if(S.split){var M=S.by,A=(m?"-"+m:"")+S.key,Z=S.split(y,j,k);A&&function(u,m,y){var k="--"+m,T=k+"-index";x(y,function(j,S){Array.isArray(j)?x(j,function(M){tt(M,T,S)}):tt(j,T,S)}),tt(u,k+"-total",y.length)}(y,A,Z),k[M]=Z,y.classList.add(M)}}),y.classList.add("splitting"),k})}function gt(u,m,y){var k=N(m.matching||u.children,u),T={};return x(k,function(j){var S=Math.round(j[y]);(T[S]||(T[S]=[])).push(j)}),Object.keys(T).map(Number).sort(lt).map(G(T))}function lt(u,m){return u-m}V.html=function(u){var m=(u=u||{}).target=U();return m.innerHTML=u.content,V(u),m.outerHTML},V.add=z;var ft=I("lines",[at],"line",function(u,m,y){return gt(u,{matching:y[at]},"offsetTop")}),pt=I("items",0,"item",function(u,m){return N(m.matching||u.children,u)}),xt=I("rows",0,"row",function(u,m){return gt(u,m,"offsetTop")}),ct=I("cols",0,"col",function(u,m){return gt(u,m,"offsetLeft")}),X=I("grid",["rows","cols"]),nt="layout",St=I(nt,0,0,function(u,m){var y=m.rows=+(m.rows||et(u,"rows")||1),k=m.columns=+(m.columns||et(u,"columns")||1);if(m.image=m.image||et(u,"image")||u.currentSrc||u.src,m.image){var T=N("img",u)[0];m.image=T&&(T.currentSrc||T.src)}m.image&&tt(u,"background-image","url("+m.image+")");for(var j=y*k,S=[],M=U(0,"cell-grid");j--;){var A=U(M,"cell");U(A,"cell-inner"),S.push(A)}return J(u,M),S}),kt=I("cellRows",[nt],"row",function(u,m,y){var k=m.rows,T=Y(k);return x(y[nt],function(j,S,M){T[Math.floor(S/(M.length/k))].push(j)}),T}),Rt=I("cellColumns",[nt],"col",function(u,m,y){var k=m.columns,T=Y(k);return x(y[nt],function(j,S){T[S%k].push(j)}),T}),Q=I("cells",["cellRows","cellColumns"],"cell",function(u,m,y){return y[nt]});return z(wt),z(Mt),z(ft),z(pt),z(xt),z(ct),z(X),z(St),z(kt),z(Rt),z(Q),V});
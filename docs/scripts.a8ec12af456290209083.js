!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LocomotiveScroll=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?c(t):e}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var i,n=l(t);if(e){var o=l(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return h(this,i)}}function d(t,e,i){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,o=!1,s=void 0;try{for(var r,l=t[Symbol.iterator]();!(n=(r=l.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){o=!0,s=t}finally{try{n||null==l.return||l.return()}finally{if(o)throw s}}return i}}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){if(t){if("string"==typeof t)return v(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var y={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},g=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),Object.assign(this,y,i),this.smartphone=y.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=y.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.context=this.isMobile?this.isTablet?"tablet":"smartphone":"desktop",this.isMobile&&(this.direction=this[this.context].direction),this.directionAxis="horizontal"===this.direction?"x":"y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return i(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){t.resize(),t.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var t=this.context;this.context=this.isMobile?this.isTablet?"tablet":"smartphone":"desktop",t!=this.context&&("desktop"==t?this.smooth:this[t].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var t=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(e){e.addEventListener("click",t.setScrollTo,!1)})}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),{offset:t.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(t){var e=this,i=this.instance.scroll.y,n=i+this.windowHeight,o=this.instance.scroll.x,s=o+this.windowWidth;Object.entries(this.els).forEach(function(r){var l=f(r,2),a=l[0],c=l[1];!c||c.inView&&!t||("horizontal"===e.direction?s>=c.left&&o<c.right&&e.setInView(c,a):n>=c.top&&i<c.bottom&&e.setInView(c,a)),c&&c.inView&&("horizontal"===e.direction?(c.progress=(e.instance.scroll.x-(c.left-e.windowWidth))/(c.right-c.left+e.windowWidth),(s<c.left||o>c.right)&&e.setOutOfView(c,a)):(c.progress=(e.instance.scroll.y-(c.top-e.windowHeight))/(c.bottom-c.top+e.windowHeight),(n<c.top||i>c.bottom)&&e.setOutOfView(c,a)))}),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),this.currentElements[e]=t,t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1))}},{key:"setOutOfView",value:function(t,e){var i=this;this.els[e].inView=!1,Object.keys(this.currentElements).forEach(function(t){t===e&&delete i.currentElements[t]}),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map(function(t){return t.trim()}),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);var i=new Event(this.namespace+"call");this.el.dispatchEvent(i)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var i=this.listeners[t];i.push(e),1===i.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){if(this.listeners[t]){var i=this.listeners[t],n=i.indexOf(e);n<0||(i.splice(n,1),0===i.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}}},{key:"checkEvent",value:function(t){var e=this,i=t.type.replace(this.namespace,""),n=this.listeners[i];n&&0!==n.length&&n.forEach(function(t){switch(i){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var t=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(function(e){t.el.removeEventListener(t.namespace+e,t.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(e){e.removeEventListener("click",t.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}]),e}(),b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function w(t,e){return t(e={exports:{}},e.exports),e.exports}var x=w(function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var i,n=t.HTMLElement||t.Element,o={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:n.prototype.scroll||l,scrollIntoView:n.prototype.scrollIntoView},s=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,r=(i=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(i)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==a(arguments[0])?p.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):o.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(a(arguments[0])?o.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==a(arguments[0])){var t=arguments[0].left,e=arguments[0].top;p.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==a(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0!==a(arguments[0])){var i=d(this),n=i.getBoundingClientRect(),s=this.getBoundingClientRect();i!==e.body?(p.call(this,i,i.scrollLeft+s.left-n.left,i.scrollTop+s.top-n.top),"fixed"!==t.getComputedStyle(i).position&&t.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):t.scrollBy({left:s.left,top:s.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(t,e){this.scrollLeft=t,this.scrollTop=e}function a(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+r<t.scrollHeight:"X"===e?t.clientWidth+r<t.scrollWidth:void 0}function h(e,i){var n=t.getComputedStyle(e,null)["overflow"+i];return"auto"===n||"scroll"===n}function u(t){var e=c(t,"Y")&&h(t,"Y"),i=c(t,"X")&&h(t,"X");return e||i}function d(t){for(;t!==e.body&&!1===u(t);)t=t.parentNode||t.host;return t}function f(e){var i,n,o,r,l=(s()-e.startTime)/468;r=l=l>1?1:l,i=.5*(1-Math.cos(Math.PI*r)),e.method.call(e.scrollable,n=e.startX+(e.x-e.startX)*i,o=e.startY+(e.y-e.startY)*i),n===e.x&&o===e.y||t.requestAnimationFrame(f.bind(t,e))}function p(i,n,r){var a,c,h,u,d=s();i===e.body?(a=t,c=t.scrollX||t.pageXOffset,h=t.scrollY||t.pageYOffset,u=o.scroll):(a=i,c=i.scrollLeft,h=i.scrollTop,u=l),f({scrollable:a,method:u,startTime:d,startX:c,startY:h,x:n,y:r})}}}}),k=function(e){r(o,e);var n=u(o);function o(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,o),(e=n.call(this,i)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",e.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=x,window.smoothscrollPolyfill.polyfill()),e}return i(o,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),d(l(o.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;d(l(o.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(function(){t.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){this.instance.speed=window.pageYOffset!=this.instance.scroll.y?(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var t=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach(function(e,i){e.getBoundingClientRect();var n,o,s,r=e.dataset[t.name+"Class"]||t.class,l="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:i,a="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,c=e.dataset[t.name+"Repeat"],h=e.dataset[t.name+"Call"],u=e.dataset[t.name+"Target"],d=(s=void 0!==u?document.querySelector("".concat(u)):e).getBoundingClientRect(),f=(n=d.top+t.instance.scroll.y)+s.offsetHeight,p=(o=d.left+t.instance.scroll.x)+s.offsetWidth;c="false"!=c&&(null!=c||t.repeat);var m=t.getRelativeOffset(a),v={el:e,targetEl:s,id:l,class:r,top:n+=m[0],bottom:f-=m[1],left:o,right:p,offset:a,progress:0,repeat:c,inView:!1,call:h};t.els[l]=v,e.classList.contains(r)&&t.setInView(t.els[l],l)})}},{key:"updateElements",value:function(){var t=this;Object.entries(this.els).forEach(function(e){var i=f(e,2),n=i[0],o=i[1],s=o.targetEl.getBoundingClientRect().top+t.instance.scroll.y,r=s+o.targetEl.offsetHeight,l=t.getRelativeOffset(o.offset);t.els[n].top=s+l[0],t.els[n].bottom=r-l[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var i=0;i<t.length;i++)e[i]="string"==typeof t[i]?t[i].includes("%")?parseInt(t[i].replace("%","")*this.windowHeight/100):parseInt(t[i]):t[i];return e}},{key:"scrollTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=parseInt(e.offset)||0,n=!!e.callback&&e.callback;if("string"==typeof t){if("top"===t)t=this.html;else if("bottom"===t)t=this.html.offsetHeight-window.innerHeight;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");i="number"!=typeof t?t.getBoundingClientRect().top+i+this.instance.scroll.y:t+i;var o=function(){return parseInt(window.pageYOffset)===parseInt(i)};if(n){if(o())return void n();var s=function t(){o()&&(window.removeEventListener("scroll",t),n())};window.addEventListener("scroll",s)}window.scrollTo({top:i,behavior:"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){d(l(o.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),o}(g),S=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;function O(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var A=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,n,o=O(t),s=1;s<arguments.length;s++){for(var r in i=Object(arguments[s]))T.call(i,r)&&(o[r]=i[r]);if(S){n=S(i);for(var l=0;l<n.length;l++)E.call(i,n[l])&&(o[n[l]]=i[n[l]])}}return o};function j(){}j.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function o(){n.off(t,o),e.apply(i,arguments)}return o._=e,this.on(t,o,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=i.length;n<o;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],o=[];if(n&&e)for(var s=0,r=n.length;s<r;s++)n[s].fn!==e&&n[s].fn._!==e&&o.push(n[s]);return o.length?i[t]=o:delete i[t],this}};var L=j,M=w(function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,i,n){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=(function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}).call(this),this.lastDownDeltas=(function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}).call(this),this.deltasTimestamp=(function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}).call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,n,o,s;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(n=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),s=n.reduce(function(t,e){return t+e}),o=i.reduce(function(t,e){return t+e})/i.length,Math.abs(s/n.length)<Math.abs(o*this.tolerance)&&this.sensitivity<Math.abs(o)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(b)}),C="onwheel"in document,D="onmousewheel"in document,R="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,B=navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,P=!!window.navigator.msPointerEnabled,_="onkeydown"in document,H=navigator.userAgent.indexOf("Firefox")>-1,I=Object.prototype.toString,W=Object.prototype.hasOwnProperty;function Y(t,e){return function(){return t.apply(e,arguments)}}var z=M.Lethargy,X="virtualscroll",q=F;function F(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)W.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==I.call(t[i])&&e.push(i);for(var n=0;n<e.length;n++){var o=e[n];t[o]=Y(t[o],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=A({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new z),this._emitter=new L,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function N(t,e,i){return(1-i)*t+i*e}function V(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),n=i.transform||i.webkitTransform||i.mozTransform,o=n.match(/^matrix3d\((.+)\)$/);return o?(e.x=o?parseFloat(o[1].split(", ")[12]):0,e.y=o?parseFloat(o[1].split(", ")[13]):0):(o=n.match(/^matrix\((.+)\)$/),e.x=o?parseFloat(o[1].split(", ")[4]):0,e.y=o?parseFloat(o[1].split(", ")[5]):0),e}}function K(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}F.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(X,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},F.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,H&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},F.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},F.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},F.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,n=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(n.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(n.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=n.pageX,this.touchStartY=n.pageY,this._notify(t)},F.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case 37:case 38:e.deltaY=this.options.keyStep;break;case 39:case 40:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case 32:e.deltaY=-i;break;default:return}this._notify(t)},F.prototype._bind=function(){C&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),D&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),R&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),P&&B&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),_&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},F.prototype._unbind=function(){C&&this.el.removeEventListener("wheel",this._onWheel),D&&this.el.removeEventListener("mousewheel",this._onMouseWheel),R&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),P&&B&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),_&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},F.prototype.on=function(t,e){this._emitter.on(X,t,e);var i=this._emitter.e;i&&i[X]&&1===i[X].length&&this._bind()},F.prototype.off=function(t,e){this._emitter.off(X,t,e);var i=this._emitter.e;(!i[X]||i[X].length<=0)&&this._unbind()},F.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},F.prototype.destroy=function(){this._emitter.off(),this._unbind()};var U="function"==typeof Float32Array;function $(t,e){return 1-3*e+3*t}function G(t,e){return 3*e-6*t}function J(t){return 3*t}function Q(t,e,i){return(($(e,i)*t+G(e,i))*t+J(e))*t}function Z(t,e,i){return 3*$(e,i)*t*t+2*G(e,i)*t+J(e)}function tt(t){return t}var et=function(t,e,i,n){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===n)return tt;for(var o=U?new Float32Array(11):new Array(11),s=0;s<11;++s)o[s]=Q(.1*s,t,i);function r(e){for(var n=0,s=1;10!==s&&o[s]<=e;++s)n+=.1;--s;var r=n+(e-o[s])/(o[s+1]-o[s])*.1,l=Z(r,t,i);return l>=.001?function(t,e,i,n){for(var o=0;o<4;++o){var s=Z(e,i,n);if(0===s)return e;e-=(Q(e,i,n)-t)/s}return e}(e,r,t,i):0===l?r:function(t,e,i,n,o){var s,r,l=0;do{(s=Q(r=e+(i-e)/2,n,o)-t)>0?i=r:e=r}while(Math.abs(s)>1e-7&&++l<10);return r}(e,n,n+.1,t,i)}return function(t){return 0===t?0:1===t?1:Q(r(t),e,n)}},it=function(e){r(o,e);var n=u(o);function o(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,o),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(e=n.call(this,i)).inertia&&(e.lerp=.1*e.inertia),e.isScrolling=!1,e.isDraggingScrollbar=!1,e.isTicking=!1,e.hasScrollTicking=!1,e.parallaxElements={},e.stop=!1,e.scrollbarContainer=i.scrollbarContainer,e.checkKey=e.checkKey.bind(c(e)),window.addEventListener("keydown",e.checkKey,!1),e}return i(o,[{key:"init",value:function(){var t=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=s({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new q({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(e){t.stop||t.isDraggingScrollbar||requestAnimationFrame(function(){t.updateDelta(e),t.isScrolling||t.startScrolling()})}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),d(l(o.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var t=0,e=this.el.children,i=0;i<e.length;i++)t+=e[i].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)9==t.keyCode&&requestAnimationFrame(function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0});else{switch(t.keyCode){case 9:requestAnimationFrame(function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0,e.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case 38:this.instance.delta[this.directionAxis]-=240;break;case 40:this.instance.delta[this.directionAxis]+=240;break;case 33:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case 34:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case 36:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case 35:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case 32:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(t.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return t.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll();var i=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),n=Date.now()-this.startScrollTs;if(!this.animatingScroll&&n>100&&(i<.5&&0!=this.instance.delta[this.directionAxis]||i<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach(function(i){var n=f(i,2)[1];n.persistent||t.instance.scroll[t.directionAxis]>n.offset[t.directionAxis]&&t.instance.scroll[t.directionAxis]<n.limit[t.directionAxis]?("horizontal"===t.direction?t.transform(n.el,-t.instance.scroll[t.directionAxis],0):t.transform(n.el,0,-t.instance.scroll[t.directionAxis]),n.inView||(n.inView=!0,n.el.style.opacity=1,n.el.style.pointerEvents="all",n.el.setAttribute("data-".concat(t.name,"-section-inview"),""))):((n.inView||e)&&(n.inView=!1,n.el.style.opacity=0,n.el.style.pointerEvents="none",n.el.removeAttribute("data-".concat(t.name,"-section-inview"))),t.transform(n.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var s=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,s,0):this.transform(this.scrollbarThumb,0,s)}d(l(o.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(t){var e=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;this.instance.delta[this.directionAxis]-=("both"===e?t.deltaX+t.deltaY:"vertical"===e?t.deltaY:"horizontal"===e?t.deltaX:t.deltaY)*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=N(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.instance.limit[this.directionAxis]:this.instance.scroll.y<0?0:this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.speed=this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(t){var e=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var i=100*(t.clientX-e.scrollbarBCR.left)/e.scrollbarWidth*e.instance.limit.x/100,n=100*(t.clientY-e.scrollbarBCR.top)/e.scrollbarHeight*e.instance.limit.y/100;n>0&&n<e.instance.limit.y&&(e.instance.delta.y=n),i>0&&i<e.instance.limit.x&&(e.instance.delta.x=i)})}},{key:"addElements",value:function(){var t=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach(function(e,i){var n,o,s,r=K(e),l=Object.entries(t.sections).map(function(t){return f(t,2)[1]}).find(function(t){return r.includes(t.el)}),a=e.dataset[t.name+"Class"]||t.class,c="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"el"+i,h=e.dataset[t.name+"Repeat"],u=e.dataset[t.name+"Call"],d=e.dataset[t.name+"Position"],p=e.dataset[t.name+"Delay"],m=e.dataset[t.name+"Direction"],v="string"==typeof e.dataset[t.name+"Sticky"],y=!!e.dataset[t.name+"Speed"]&&parseFloat(e.dataset[t.name+"Speed"])/10,g="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,b=e.dataset[t.name+"Target"],w=(s=void 0!==b?document.querySelector("".concat(b)):e).getBoundingClientRect();null===l||l.inView?(n=w.top+t.instance.scroll.y-V(s).y,o=w.left+t.instance.scroll.x-V(s).x):(n=w.top-V(l.el).y-V(s).y,o=w.left-V(l.el).x-V(s).x);var x=n+s.offsetHeight,k=o+s.offsetWidth,S={x:(k-o)/2+o,y:(x-n)/2+n};if(v){var T=e.getBoundingClientRect(),E=T.top,O=T.left,A={x:O-o,y:E-n};n+=window.innerHeight,o+=window.innerWidth,S={x:((k=O+s.offsetWidth-e.offsetWidth-A[t.directionAxis])-o)/2+o,y:((x=E+s.offsetHeight-e.offsetHeight-A[t.directionAxis])-n)/2+n}}h="false"!=h&&(null!=h||t.repeat);var j=[0,0];if(g)if("horizontal"===t.direction){for(var L=0;L<g.length;L++)j[L]="string"==typeof g[L]?g[L].includes("%")?parseInt(g[L].replace("%","")*t.windowWidth/100):parseInt(g[L]):g[L];o+=j[0],k-=j[1]}else{for(L=0;L<g.length;L++)j[L]="string"==typeof g[L]?g[L].includes("%")?parseInt(g[L].replace("%","")*t.windowHeight/100):parseInt(g[L]):g[L];n+=j[0],x-=j[1]}var M={el:e,id:c,class:a,section:l,top:n,middle:S,bottom:x,left:o,right:k,offset:g,progress:0,repeat:h,inView:!1,call:u,speed:y,delay:p,position:d,target:s,direction:m,sticky:v};t.els[c]=M,e.classList.contains(a)&&t.setInView(t.els[c],c),(!1!==y||v)&&(t.parallaxElements[c]=M)})}},{key:"addSections",value:function(){var t=this;this.sections={};var e=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===e.length&&(e=[this.el]),e.forEach(function(e,i){var n="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"section"+i,o=e.getBoundingClientRect(),s={x:o.left-1.5*window.innerWidth-V(e).x,y:o.top-1.5*window.innerHeight-V(e).y},r={x:s.x+o.width+2*window.innerWidth,y:s.y+o.height+2*window.innerHeight},l="string"==typeof e.dataset[t.name+"Persistent"];e.setAttribute("data-scroll-section-id",n),t.sections[n]={el:e,offset:s,limit:r,inView:!1,persistent:l,id:n}})}},{key:"transform",value:function(t,e,i,n){var o;if(n){var s=V(t),r=N(s.x,e,n),l=N(s.y,i,n);o="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(r,",").concat(l,",0,1)")}else o="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(i,",0,1)");t.style.webkitTransform=o,t.style.msTransform=o,t.style.transform=o}},{key:"transformElements",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.instance.scroll.x+this.windowWidth,o=this.instance.scroll.y+this.windowHeight,s={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(r){var l=f(r,2)[1],a=!1;if(t&&(a=0),l.inView||i)switch(l.position){case"top":a=e.instance.scroll[e.directionAxis]*-l.speed;break;case"elementTop":a=(o-l.top)*-l.speed;break;case"bottom":a=(e.instance.limit[e.directionAxis]-o+e.windowHeight)*l.speed;break;case"left":a=e.instance.scroll[e.directionAxis]*-l.speed;break;case"elementLeft":a=(n-l.left)*-l.speed;break;case"right":a=(e.instance.limit[e.directionAxis]-n+e.windowHeight)*l.speed;break;default:a=(s[e.directionAxis]-l.middle[e.directionAxis])*-l.speed}l.sticky&&(a=l.inView?"horizontal"===e.direction?e.instance.scroll.x-l.left+window.innerWidth:e.instance.scroll.y-l.top+window.innerHeight:"horizontal"===e.direction?e.instance.scroll.x<l.left-window.innerWidth&&e.instance.scroll.x<l.left-window.innerWidth/2?0:e.instance.scroll.x>l.right&&e.instance.scroll.x>l.right+100&&l.right-l.left+window.innerWidth:e.instance.scroll.y<l.top-window.innerHeight&&e.instance.scroll.y<l.top-window.innerHeight/2?0:e.instance.scroll.y>l.bottom&&e.instance.scroll.y>l.bottom+100&&l.bottom-l.top+window.innerHeight),!1!==a&&("horizontal"===l.direction||"horizontal"===e.direction&&"vertical"!==l.direction?e.transform(l.el,a,0,!t&&l.delay):e.transform(l.el,0,a,!t&&l.delay))})}},{key:"scrollTo",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=parseInt(i.offset)||0,o=isNaN(parseInt(i.duration))?1e3:parseInt(i.duration),s=i.easing||[.25,0,.35,1],r=!!i.disableLerp,l=!!i.callback&&i.callback;if(s=et.apply(void 0,p(s)),"string"==typeof t){if("top"===t)t=0;else if("bottom"===t)t=this.instance.limit.y;else if("left"===t)t=0;else if("right"===t)t=this.instance.limit.x;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof t){var a=K(t).includes(this.el);if(!a)return;var c=t.getBoundingClientRect(),h=c.top,u=c.left,d=K(t),m=d.find(function(t){return Object.entries(e.sections).map(function(t){return f(t,2)[1]}).find(function(e){return e.el==t})}),v=0;v=m?V(m)[this.directionAxis]:-this.instance.scroll[this.directionAxis],n="horizontal"===this.direction?u+n-v:h+n-v}else n=t+n;var y=parseFloat(this.instance.delta[this.directionAxis]),g=Math.max(0,Math.min(n,this.instance.limit[this.directionAxis])),b=g-y,w=function(t){r?"horizontal"===e.direction?e.setScroll(y+b*t,e.instance.delta.y):e.setScroll(e.instance.delta.x,y+b*t):e.instance.delta[e.directionAxis]=y+b*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var x=Date.now(),k=function t(){var i=(Date.now()-x)/o;i>1?(w(1),e.animatingScroll=!1,0==o&&e.update(),l&&l()):(e.scrollToRaf=requestAnimationFrame(t),w(s(i)))};k()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=s(s({},this.instance),{},{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){d(l(o.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),o}(g);return function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.options=i,Object.assign(this,y,i),this.smartphone=y.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=y.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.smooth||"horizontal"!=this.direction||console.warn("\ud83d\udea8 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("\ud83d\udea8 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("\ud83d\udea8 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return i(e,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.scroll=this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?new it(this.options):new k(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e){this.scroll.scrollTo(t,e)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}()}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).ScrollReveal=e()}(this,function(){"use strict";var t={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}},e=function(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}};function i(t){return"object"==typeof window.Node?t instanceof window.Node:null!==t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function n(t,e){if(void 0===e&&(e=document),t instanceof Array)return t.filter(i);if(i(t))return[t];if(n=t,o=Object.prototype.toString.call(n),"object"==typeof window.NodeList?n instanceof window.NodeList:null!==n&&"object"==typeof n&&"number"==typeof n.length&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(o)&&(0===n.length||i(n[0])))return Array.prototype.slice.call(t);var n,o;if("string"==typeof t)try{var s=e.querySelectorAll(t);return Array.prototype.slice.call(s)}catch(r){return[]}return[]}function o(t){return null!==t&&t instanceof Object&&(t.constructor===Object||"[object Object]"===Object.prototype.toString.call(t))}function s(t,e){if(o(t))return Object.keys(t).forEach(function(i){return e(t[i],i,t)});if(t instanceof Array)return t.forEach(function(i,n){return e(i,n,t)});throw new TypeError("Expected either an array or object literal.")}function r(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if(this.constructor.debug&&console){var n="%cScrollReveal: "+t;e.forEach(function(t){return n+="\n \u2014 "+t}),console.log(n,"color: #ea654b;")}}function l(){var t=this,e={active:[],stale:[]},i={active:[],stale:[]},o={active:[],stale:[]};try{s(n("[data-sr-id]"),function(t){var i=parseInt(t.getAttribute("data-sr-id"));e.active.push(i)})}catch(r){throw r}s(this.store.elements,function(t){-1===e.active.indexOf(t.id)&&e.stale.push(t.id)}),s(e.stale,function(e){return delete t.store.elements[e]}),s(this.store.elements,function(t){-1===o.active.indexOf(t.containerId)&&o.active.push(t.containerId),t.hasOwnProperty("sequence")&&-1===i.active.indexOf(t.sequence.id)&&i.active.push(t.sequence.id)}),s(this.store.containers,function(t){-1===o.active.indexOf(t.id)&&o.stale.push(t.id)}),s(o.stale,function(e){var i=t.store.containers[e].node;i.removeEventListener("scroll",t.delegate),i.removeEventListener("resize",t.delegate),delete t.store.containers[e]}),s(this.store.sequences,function(t){-1===i.active.indexOf(t.id)&&i.stale.push(t.id)}),s(i.stale,function(e){return delete t.store.sequences[e]})}function a(t){if(t.constructor!==Array)throw new TypeError("Expected array.");if(16===t.length)return t;if(6===t.length){var e=c();return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}throw new RangeError("Expected array with either 6 or 16 values.")}function c(){for(var t=[],e=0;e<16;e++)t.push(e%5==0?1:0);return t}function h(t,e){for(var i=a(t),n=a(e),o=[],s=0;s<4;s++)for(var r=[i[s],i[s+4],i[s+8],i[s+12]],l=0;l<4;l++){var c=4*l,h=[n[c],n[c+1],n[c+2],n[c+3]];o[s+c]=r[0]*h[0]+r[1]*h[1]+r[2]*h[2]+r[3]*h[3]}return o}function u(t){if("string"==typeof t){var e=t.match(/matrix(3d)?\(([^)]+)\)/);if(e)return a(e[2].split(", ").map(parseFloat))}return c()}var d=function(){var t={},e=document.documentElement.style;function i(i,n){if(void 0===n&&(n=e),i&&"string"==typeof i){if(t[i])return t[i];if("string"==typeof n[i])return t[i]=i;if("string"==typeof n["-webkit-"+i])return t[i]="-webkit-"+i;throw new RangeError('Unable to find "'+i+'" style property.')}throw new TypeError("Expected a string.")}return i.clearCache=function(){return t={}},i}();function f(t,e){e.split(";").forEach(function(e){var i=e.split(":"),n=i[0],o=i.slice(1);n&&o&&(t.style[n.trim()]=o.join(":"))})}function p(t){var e,i=this;try{s(n(t),function(t){var n=t.getAttribute("data-sr-id");if(null!==n){e=!0;var o=i.store.elements[n];o.callbackTimer&&window.clearTimeout(o.callbackTimer.clock),f(o.node,o.styles.inline.generated),t.removeAttribute("data-sr-id"),delete i.store.elements[n]}})}catch(o){return r.call(this,"Clean failed.",o.message)}if(e)try{l.call(this)}catch(o){return r.call(this,"Clean failed.",o.message)}}function m(){var t=this;s(this.store.elements,function(t){f(t.node,t.styles.inline.generated),t.node.removeAttribute("data-sr-id")}),s(this.store.containers,function(e){var i=e.node===document.documentElement?window:e.node;i.removeEventListener("scroll",t.delegate),i.removeEventListener("resize",t.delegate)}),this.store={containers:{},elements:{},history:[],sequences:{}}}function v(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if(o(t))return s(e,function(e){s(e,function(e,i){o(e)?(t[i]&&o(t[i])||(t[i]={}),v(t[i],e)):t[i]=e})}),t;throw new TypeError("Target must be an object literal.")}function y(t){return void 0===t&&(t=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(t)}var g,b=(g=0,function(){return g++});function w(){var t=this;l.call(this),s(this.store.elements,function(t){var e=[t.styles.inline.generated];t.visible?(e.push(t.styles.opacity.computed),e.push(t.styles.transform.generated.final),t.revealed=!0):(e.push(t.styles.opacity.generated),e.push(t.styles.transform.generated.initial),t.revealed=!1),f(t.node,e.filter(function(t){return""!==t}).join(" "))}),s(this.store.containers,function(e){var i=e.node===document.documentElement?window:e.node;i.addEventListener("scroll",t.delegate),i.addEventListener("resize",t.delegate)}),this.delegate(),this.initTimeout=null}function x(t,e){void 0===e&&(e={});var i=!t.visible&&t.revealed&&t.config.reset;return e.reveal||t.visible&&!t.revealed?k.call(this,t,"always"===t.config.useDelay||"onload"===t.config.useDelay&&(e.pristine||this.pristine)||"once"===t.config.useDelay&&!t.seen):e.reset||i?S.call(this,t):void 0}function k(t,e){var i=[t.styles.inline.generated,t.styles.opacity.computed,t.styles.transform.generated.final];i.push(e?t.styles.transition.generated.delayed:t.styles.transition.generated.instant),t.revealed=t.seen=!0,f(t.node,i.filter(function(t){return""!==t}).join(" ")),T.call(this,t,e)}function S(t){var e=[t.styles.inline.generated,t.styles.opacity.generated,t.styles.transform.generated.initial,t.styles.transition.generated.instant];t.revealed=!1,f(t.node,e.filter(function(t){return""!==t}).join(" ")),T.call(this,t)}function T(t,e){var i=this,n=e?t.config.duration+t.config.delay:t.config.duration,o=t.revealed?t.config.beforeReveal:t.config.beforeReset,s=t.revealed?t.config.afterReveal:t.config.afterReset,r=0;t.callbackTimer&&(r=Date.now()-t.callbackTimer.start,window.clearTimeout(t.callbackTimer.clock)),o(t.node),t.callbackTimer={start:Date.now(),clock:window.setTimeout(function(){s(t.node),t.callbackTimer=null,t.revealed&&!t.config.reset&&t.config.cleanup&&p.call(i,t.node)},n-r)}}function E(t,e){if(void 0===e&&(e=this.pristine),!t.visible&&t.revealed&&t.config.reset)return x.call(this,t,{reset:!0});var i=this.store.sequences[t.sequence.id],n=t.sequence.index;if(i){var o=new A(i,"visible",this.store),s=new A(i,"revealed",this.store);if(i.models={visible:o,revealed:s},!s.body.length){var r=this.store.elements[i.members[o.body[0]]];if(r)return j.call(this,i,o.body[0],-1,e),j.call(this,i,o.body[0],1,e),x.call(this,r,{reveal:!0,pristine:e})}if(!i.blocked.head&&n===[].concat(s.head).pop()&&n>=[].concat(o.body).shift())return j.call(this,i,n,-1,e),x.call(this,t,{reveal:!0,pristine:e});if(!i.blocked.foot&&n===[].concat(s.foot).shift()&&n<=[].concat(o.body).pop())return j.call(this,i,n,1,e),x.call(this,t,{reveal:!0,pristine:e})}}function O(t){var e=Math.abs(t);if(isNaN(e))throw new RangeError("Invalid sequence interval.");this.id=b(),this.interval=Math.max(e,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1}}function A(t,e,i){var n=this;this.head=[],this.body=[],this.foot=[],s(t.members,function(t,o){var s=i.elements[t];s&&s[e]&&n.body.push(o)}),this.body.length&&s(t.members,function(t,o){var s=i.elements[t];s&&!s[e]&&(o<n.body[0]?n.head.push(o):n.foot.push(o))})}function j(t,e,i,n){var o=this,s=["head",null,"foot"][1+i],r=this.store.elements[t.members[e+i]];t.blocked[s]=!0,setTimeout(function(){t.blocked[s]=!1,r&&E.call(o,r,n)},t.interval)}function L(e,i,o){var l=this;void 0===i&&(i={}),void 0===o&&(o=!1);var a,m=[],g=i.interval||t.interval;try{g&&(a=new O(g));var x=n(e);if(!x.length)throw new Error("Invalid reveal target.");var k=x.reduce(function(t,e){var o={},r=e.getAttribute("data-sr-id");r?(v(o,l.store.elements[r]),f(o.node,o.styles.inline.computed)):(o.id=b(),o.node=e,o.seen=!1,o.revealed=!1,o.visible=!1);var g=v({},o.config||l.defaults,i);if(!g.mobile&&y()||!g.desktop&&!y())return r&&p.call(l,o),t;var w,x=n(g.container)[0];if(!x)throw new Error("Invalid container.");return x.contains(e)?(null===(w=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var n=null;return s(e,function(e){s(e,function(e){null===n&&e.node===t&&(n=e.id)})}),n}(x,m,l.store.containers))&&(w=b(),m.push({id:w,node:x})),o.config=g,o.containerId=w,o.styles=function(t){var e=window.getComputedStyle(t.node),i=e.position,n=t.config,o={},s=(t.node.getAttribute("style")||"").match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];o.computed=s?s.map(function(t){return t.trim()}).join("; ")+";":"",o.generated=s.some(function(t){return t.match(/visibility\s?:\s?visible/i)})?o.computed:s.concat(["visibility: visible"]).map(function(t){return t.trim()}).join("; ")+";";var r,l,a=parseFloat(e.opacity),f=isNaN(parseFloat(n.opacity))?parseFloat(e.opacity):parseFloat(n.opacity),p={computed:a!==f?"opacity: "+a+";":"",generated:a!==f?"opacity: "+f+";":""},m=[];if(parseFloat(n.distance)){var v="top"===n.origin||"bottom"===n.origin?"Y":"X",y=n.distance;"top"!==n.origin&&"left"!==n.origin||(y=/^-/.test(y)?y.substr(1):"-"+y);var g=y.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),b=g[0];switch(g[1]){case"em":y=parseInt(e.fontSize)*b;break;case"px":y=b;break;case"%":y="Y"===v?t.node.getBoundingClientRect().height*b/100:t.node.getBoundingClientRect().width*b/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}m.push("Y"===v?function(t){var e=c();return e[13]=t,e}(y):function(t){var e=c();return e[12]=t,e}(y))}n.rotate.x&&m.push((r=Math.PI/180*n.rotate.x,(l=c())[5]=l[10]=Math.cos(r),l[6]=l[9]=Math.sin(r),l[9]*=-1,l)),n.rotate.y&&m.push(function(t){var e=Math.PI/180*t,i=c();return i[0]=i[10]=Math.cos(e),i[2]=i[8]=Math.sin(e),i[2]*=-1,i}(n.rotate.y)),n.rotate.z&&m.push(function(t){var e=Math.PI/180*t,i=c();return i[0]=i[5]=Math.cos(e),i[1]=i[4]=Math.sin(e),i[4]*=-1,i}(n.rotate.z)),1!==n.scale&&m.push(function(t,e){var i=c();return i[0]=t,i[5]=t,i}(0===n.scale?2e-4:n.scale));var w={};if(m.length){w.property=d("transform"),w.computed={raw:e[w.property],matrix:u(e[w.property])},m.unshift(w.computed.matrix);var x=m.reduce(h);w.generated={initial:w.property+": matrix3d("+x.join(", ")+");",final:w.property+": matrix3d("+w.computed.matrix.join(", ")+");"}}else w.generated={initial:"",final:""};var k={};if(p.generated||w.generated.initial){k.property=d("transition"),k.computed=e[k.property],k.fragments=[];var S=n.delay,T=n.duration,E=n.easing;p.generated&&k.fragments.push({delayed:"opacity "+T/1e3+"s "+E+" "+S/1e3+"s",instant:"opacity "+T/1e3+"s "+E+" 0s"}),w.generated.initial&&k.fragments.push({delayed:w.property+" "+T/1e3+"s "+E+" "+S/1e3+"s",instant:w.property+" "+T/1e3+"s "+E+" 0s"}),k.computed&&!k.computed.match(/all 0s|none 0s/)&&k.fragments.unshift({delayed:k.computed,instant:k.computed});var O=k.fragments.reduce(function(t,e,i){return t.delayed+=0===i?e.delayed:", "+e.delayed,t.instant+=0===i?e.instant:", "+e.instant,t},{delayed:"",instant:""});k.generated={delayed:k.property+": "+O.delayed+";",instant:k.property+": "+O.instant+";"}}else k.generated={delayed:"",instant:""};return{inline:o,opacity:p,position:i,transform:w,transition:k}}(o),a&&(o.sequence={id:a.id,index:a.members.length},a.members.push(o.id)),t.push(o),t):t},[]);s(k,function(t){l.store.elements[t.id]=t,t.node.setAttribute("data-sr-id",t.id)})}catch(S){return r.call(this,"Reveal failed.",S.message)}s(m,function(t){l.store.containers[t.id]={id:t.id,node:t.node}}),a&&(this.store.sequences[a.id]=a),!0!==o&&(this.store.history.push({target:e,options:i}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(w.bind(this),0))}function M(){var t=this;s(this.store.history,function(e){L.call(t,e.target,e.options,!0)}),w.call(this)}var C,D,R,B,P,_,H,I,W,Y=Math.sign||function(t){return(t>0)-(t<0)||+t},z=(C=Date.now(),function(t){var e=Date.now();e-C>16?(C=e,t(e)):setTimeout(function(){return z(t)},0)}),X=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||z;function q(t,e){var i=e?t.node.clientHeight:t.node.offsetHeight,n=e?t.node.clientWidth:t.node.offsetWidth,o=0,s=0,r=t.node;do{isNaN(r.offsetTop)||(o+=r.offsetTop),isNaN(r.offsetLeft)||(s+=r.offsetLeft),r=r.offsetParent}while(r);return{bounds:{top:o,right:s+n,bottom:o+i,left:s},height:i,width:n}}function F(t){var e,i;return t.node===document.documentElement?(e=window.pageYOffset,i=window.pageXOffset):(e=t.node.scrollTop,i=t.node.scrollLeft),{top:e,left:i}}function N(t){void 0===t&&(t={});var e=this.store.containers[t.containerId];if(e){var i=Math.max(0,Math.min(1,t.config.viewFactor)),n=t.config.viewOffset;return t.geometry.bounds.top+t.geometry.height*i<e.geometry.bounds.bottom+e.scroll.top-n.bottom&&t.geometry.bounds.right-t.geometry.width*i>e.geometry.bounds.left+e.scroll.left+n.left&&t.geometry.bounds.bottom-t.geometry.height*i>e.geometry.bounds.top+e.scroll.top+n.top&&t.geometry.bounds.left+t.geometry.width*i<e.geometry.bounds.right+e.scroll.left-n.right||"fixed"===t.styles.position}}function V(t,e){var i=this;void 0===t&&(t={type:"init"}),void 0===e&&(e=this.store.elements),X(function(){var n="init"===t.type||"resize"===t.type;s(i.store.containers,function(t){n&&(t.geometry=q.call(i,t,!0));var e=F.call(i,t);t.scroll&&(t.direction={x:Y(e.left-t.scroll.left),y:Y(e.top-t.scroll.top)}),t.scroll=e}),s(e,function(t){(n||void 0===t.geometry)&&(t.geometry=q.call(i,t)),t.visible=N.call(i,t)}),s(e,function(t){t.sequence?E.call(i,t):x.call(i,t)}),i.pristine=!1})}function K(i){var o;if(void 0===i&&(i={}),void 0===this||Object.getPrototypeOf(this)!==K.prototype)return new K(i);if(!K.isSupported())return r.call(this,"Instantiation failed.","This browser is not supported."),e();try{o=v({},H||t,i)}catch(s){return r.call(this,"Invalid configuration.",s.message),e()}try{if(!n(o.container)[0])throw new Error("Invalid container.")}catch(s){return r.call(this,s.message),e()}return!(H=o).mobile&&y()||!H.desktop&&!y()?(r.call(this,"This device is disabled.","desktop: "+H.desktop,"mobile: "+H.mobile),e()):(document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",function(){document.body.style.height="100%"}),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,D=D||V.bind(this),R=R||m.bind(this),B=B||L.bind(this),P=P||p.bind(this),_=_||M.bind(this),Object.defineProperty(this,"delegate",{get:function(){return D}}),Object.defineProperty(this,"destroy",{get:function(){return R}}),Object.defineProperty(this,"reveal",{get:function(){return B}}),Object.defineProperty(this,"clean",{get:function(){return P}}),Object.defineProperty(this,"sync",{get:function(){return _}}),Object.defineProperty(this,"defaults",{get:function(){return H}}),Object.defineProperty(this,"version",{get:function(){return"4.0.9"}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),W||(W=this))}return K.isSupported=function(){return function(){var t=document.documentElement.style;return"transform"in t||"WebkitTransform"in t}()&&function(){var t=document.documentElement.style;return"transition"in t||"WebkitTransition"in t}()},Object.defineProperty(K,"debug",{get:function(){return I||!1},set:function(t){return I="boolean"==typeof t?t:I}}),K(),K}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Splitting=e()}(this,function(){"use strict";var t=document,e=t.createTextNode.bind(t);function i(t,e,i){t.style.setProperty(e,i)}function n(t,e){return t.appendChild(e)}function o(e,i,o,s){var r=t.createElement("span");return i&&(r.className=i),o&&(!s&&r.setAttribute("data-"+i,o),r.textContent=o),e&&n(e,r)||r}function s(t,e){return t.getAttribute("data-"+e)}function r(e,i){return e&&0!=e.length?e.nodeName?[e]:[].slice.call(e[0].nodeName?e:(i||t).querySelectorAll(e)):[]}function l(t){for(var e=[];t--;)e[t]=[];return e}function a(t,e){t&&t.some(e)}function c(t){return function(e){return t[e]}}var h={};function u(t,e,i){var n=i.indexOf(t);if(-1==n)i.unshift(t),a(h[t].depends,function(e){u(e,t,i)});else{var o=i.indexOf(e);i.splice(n,1),i.splice(o,0,t)}return i}function d(t,e,i,n){return{by:t,depends:e,key:i,split:n}}function f(t){return u(t,0,[]).map(c(h))}function p(t){h[t.by]=t}function m(t,i,s,l,c){t.normalize();var h=[],u=document.createDocumentFragment();l&&h.push(t.previousSibling);var d=[];return r(t.childNodes).some(function(t){if(!t.tagName||t.hasChildNodes()){if(t.childNodes&&t.childNodes.length)return d.push(t),void h.push.apply(h,m(t,i,s,l,c));var n=t.wholeText||"",r=n.trim();r.length&&(" "===n[0]&&d.push(e(" ")),a(r.split(s),function(t,e){e&&c&&d.push(o(u,"whitespace"," ",c));var n=o(u,i,t);h.push(n),d.push(n)})," "===n[n.length-1]&&d.push(e(" ")))}else d.push(t)}),a(d,function(t){n(u,t)}),t.innerHTML="",n(t,u),h}var v="words",y=d(v,0,"word",function(t){return m(t,"word",/\s+/,0,1)}),g="chars",b=d(g,[v],"char",function(t,e,i){var n=[];return a(i.words,function(t,i){n.push.apply(n,m(t,"char","",e.whitespace&&i))}),n});function w(t){var e=(t=t||{}).key;return r(t.target||"[data-splitting]").map(function(n){var o=n["\ud83c\udf4c"];if(!t.force&&o)return o;o=n["\ud83c\udf4c"]={el:n};var r=f(t.by||s(n,"splitting")||g),l=function(t,e){for(var i in e)t[i]=e[i];return t}({},t);return a(r,function(t){if(t.split){var s=t.by,r=(e?"-"+e:"")+t.key,c=t.split(n,l,o);r&&function(t,e,n){var o="--"+e,s=o+"-index";a(n,function(t,e){Array.isArray(t)?a(t,function(t){i(t,s,e)}):i(t,s,e)}),i(t,o+"-total",n.length)}(n,r,c),o[s]=c,n.classList.add(s)}}),n.classList.add("splitting"),o})}function x(t,e,i){var n=r(e.matching||t.children,t),o={};return a(n,function(t){var e=Math.round(t[i]);(o[e]||(o[e]=[])).push(t)}),Object.keys(o).map(Number).sort(k).map(c(o))}function k(t,e){return t-e}w.html=function(t){var e=(t=t||{}).target=o();return e.innerHTML=t.content,w(t),e.outerHTML},w.add=p;var S=d("lines",[v],"line",function(t,e,i){return x(t,{matching:i.words},"offsetTop")}),T=d("items",0,"item",function(t,e){return r(e.matching||t.children,t)}),E=d("rows",0,"row",function(t,e){return x(t,e,"offsetTop")}),O=d("cols",0,"col",function(t,e){return x(t,e,"offsetLeft")}),A=d("grid",["rows","cols"]),j="layout",L=d(j,0,0,function(t,e){var l=e.rows=+(e.rows||s(t,"rows")||1),a=e.columns=+(e.columns||s(t,"columns")||1);if(e.image=e.image||s(t,"image")||t.currentSrc||t.src,e.image){var c=r("img",t)[0];e.image=c&&(c.currentSrc||c.src)}e.image&&i(t,"background-image","url("+e.image+")");for(var h=l*a,u=[],d=o(0,"cell-grid");h--;){var f=o(d,"cell");o(f,"cell-inner"),u.push(f)}return n(t,d),u}),M=d("cellRows",[j],"row",function(t,e,i){var n=e.rows,o=l(n);return a(i.layout,function(t,e,i){o[Math.floor(e/(i.length/n))].push(t)}),o}),C=d("cellColumns",[j],"col",function(t,e,i){var n=e.columns,o=l(n);return a(i.layout,function(t,e){o[e%n].push(t)}),o}),D=d("cells",["cellRows","cellColumns"],"cell",function(t,e,i){return i.layout});return p(y),p(b),p(S),p(T),p(E),p(O),p(A),p(L),p(M),p(C),p(D),w});